***
**Cron / Scheduled Jobs:** `cron`, `crontab`, `anacron`, `cronie`
***
***
# `Cron` Command in Linux

## Introduction

Cron is a time-based job scheduler in Unix-like operating systems. Users can schedule jobs to run periodically at fixed times, dates, or intervals. These jobs are called cron jobs.

## Cron Components

### Crontab

Crontab is the configuration file that specifies shell commands to run periodically on a given schedule.

### Cron Daemon

The cron daemon runs in the background and executes scheduled commands from crontab files.

## Crontab Syntax

The basic syntax of a crontab entry is

```
minute hour day_of_month month day_of_week command
```

- minute: 0-59
    
- hour: 0-23
    
- day_of_month: 1-31
    
- month: 1-12
    
- day_of_week: 0-7 (0 or 7 is Sunday)
    
- command: the command to execute
    

Special characters:

- - : all values
- , : value list separator
    
- - : range of values
- / : step values
    

## Common Crontab Commands

- `crontab -e` : edit current user's crontab
    
- `crontab -l` : list current user's crontab
    
- `crontab -r` : remove current user's crontab
    

## Examples

### Run a script every day at 5 am

```
0 5 * * * /home/user/script.sh
```

### Run a command every 15 minutes

```
*/15 * * * * /home/user/command.sh
```

### Run a backup script at 2 am on Sundays

```
0 2 * * 0 /home/user/backup.sh
```

### Run a script every day at noon and midnight

```
0 0,12 * * * /home/user/script.sh
```

### Run a script every Monday to Friday at 8 am

```
0 8 * * 1-5 /home/user/weekday.sh
```

### Run a script every 10 minutes between 9 am and 5 pm

```
*/10 9-17 * * * /home/user/work_hours.sh
```

### Redirect output to a log file

```
0 6 * * * /home/user/script.sh > /home/user/script.log 2>&1
```

## System-wide Crontab

System-wide crontab files are usually located at `/etc/crontab`. They have an extra field for the user:

```
minute hour day_of_month month day_of_week user command
```

## Cron Directory

Some Linux distributions use `/etc/cron.hourly`, `/etc/cron.daily`, `/etc/cron.weekly`, and `/etc/cron.monthly` directories to schedule scripts automatically.

## Useful Tips

- Use absolute paths in cron commands
    
- Check environment variables as cron runs with a minimal environment
    
- Use `MAILTO` to send output to email
    

Example of MAILTO

```
MAILTO=user@example.com
0 5 * * * /home/user/script.sh
```

This will send the output of the cron job to the specified email address

* * *

* * *

# `Crontab` Command in Linux

## Introduction

Crontab is a utility in Linux used to schedule tasks to run automatically at specified intervals. These tasks are called cron jobs.

## Crontab Syntax

Each line in a crontab file represents a cron job with the following format

```
minute hour day_of_month month day_of_week command
```

- minute : 0-59
    
- hour : 0-23
    
- day_of_month : 1-31
    
- month : 1-12
    
- day_of_week : 0-7 (0 and 7 both represent Sunday)
    
- command : the command or script to execute
    

Special Characters

- - : any value
- , : separate multiple values
    
- - : range of values
- / : step values
    

## Crontab Commands

- `crontab -e` : edit the current user crontab
    
- `crontab -l` : list the current user crontab
    
- `crontab -r` : remove the current user crontab
    
- `crontab -i` : prompt before removing crontab
    
- `crontab -u username -l` : list crontab of another user (requires root)
    

## Examples

### Run a script every day at 6 am

```
0 6 * * * /home/user/script.sh
```

### Run a script every 10 minutes

```
*/10 * * * * /home/user/command.sh
```

### Run a backup every Sunday at 2 am

```
0 2 * * 0 /home/user/backup.sh
```

### Run a script every weekday at 9 am

```
0 9 * * 1-5 /home/user/weekday.sh
```

### Run a script at midnight and noon

```
0 0,12 * * * /home/user/script.sh
```

### Redirect output to a log file

```
0 7 * * * /home/user/script.sh > /home/user/script.log 2>&1
```

### Set email notification for cron output

```
MAILTO=user@example.com
0 5 * * * /home/user/script.sh
```

## System-wide Crontab

The system-wide crontab is located at `/etc/crontab`. It has an extra field for specifying the user

```
minute hour day_of_month month day_of_week user command
```

## Cron Directories

Linux systems also use `/etc/cron.hourly`, `/etc/cron.daily`, `/etc/cron.weekly`, and `/etc/cron.monthly` directories for scheduling scripts automatically.

## Tips

- Always use absolute paths in commands
    
- Remember cron runs with a minimal environment
    
- Use logging or email to monitor job output
    
- Test scripts manually before scheduling
    

* * *

* * *

# `Anacron` Command in Linux

## Introduction

Anacron is a Linux utility used to run commands periodically with a frequency defined in days. Unlike cron, Anacron does not assume the system is running continuously. It ensures that scheduled jobs are executed even if the system was off at the scheduled time.

## Anacron Syntax

The basic syntax of the Anacron job in `/etc/anacrontab` is

```
period delay job-identifier command
```

- period : frequency in days the job should run
    
- delay : delay in minutes after Anacron starts before executing the job
    
- job-identifier : a unique name for the job
    
- command : the command or script to execute
    

## Anacron File Location

The main configuration file is `/etc/anacrontab`.

Example `/etc/anacrontab` format

```
SHELL=/bin/sh
PATH=/sbin:/bin:/usr/sbin:/usr/bin

1 5 cron.daily run-parts /etc/cron.daily
7 10 cron.weekly run-parts /etc/cron.weekly
30 15 cron.monthly run-parts /etc/cron.monthly
```

- The first line sets the shell to execute commands
    
- The second line sets the PATH environment variable
    
- The following lines define jobs with period, delay, job-identifier, and command
    

## Anacron Commands

- `anacron -n` : run all jobs defined in anacrontab immediately
    
- `anacron -s` : run jobs that are pending due to system downtime
    
- `anacron -d` : run in debug mode
    

## Examples

### Run daily jobs with 5 minutes delay

```
1 5 daily-job /home/user/daily-script.sh
```

### Run weekly jobs with 10 minutes delay

```
7 10 weekly-job /home/user/weekly-script.sh
```

### Run monthly jobs with 15 minutes delay

```
30 15 monthly-job /home/user/monthly-script.sh
```

### Run all anacron jobs immediately

```
anacron -n
```

### Run pending anacron jobs

```
anacron -s
```

## Tips

- Anacron is ideal for laptops or desktops that are not running 24x7
    
- Anacron works with daily, weekly, and monthly jobs unlike cron which can schedule jobs in minutes or hours
    
- Always use absolute paths in scripts
    
- Combine Anacron with cron for maximum coverage of scheduled jobs
    

* * *

* * *

# `Cronie` Command in Linux

## Introduction

Cronie is a Linux package that provides a cron daemon, allowing users to schedule jobs to run periodically at fixed times, dates, or intervals. Cronie is a fork of the original Vixie Cron and is commonly used in many Linux distributions.

## Components

- **crond** : the daemon that runs in the background to execute scheduled jobs
    
- **crontab** : command-line tool to manage cron jobs
    
- **anacron** : optional component to handle jobs when the system is not running continuously
    

## Crontab Syntax

Cronie uses standard crontab syntax

```
minute hour day_of_month month day_of_week command
```

- minute : 0-59
    
- hour : 0-23
    
- day_of_month : 1-31
    
- month : 1-12
    
- day_of_week : 0-7 (0 and 7 both represent Sunday)
    
- command : the command or script to execute
    

Special Characters

- - : all values
- , : separate multiple values
    
- - : range of values
- / : step values
    

## Cronie Commands

- `crontab -e` : edit user crontab
    
- `crontab -l` : list user crontab
    
- `crontab -r` : remove user crontab
    
- `systemctl start crond` : start cron daemon
    
- `systemctl stop crond` : stop cron daemon
    
- `systemctl enable crond` : enable cron daemon at boot
    
- `systemctl status crond` : check status of cron daemon
    

## Examples

### Run a script every day at 5 am

```
0 5 * * * /home/user/daily-script.sh
```

### Run a script every 30 minutes

```
*/30 * * * * /home/user/command.sh
```

### Run weekly backup on Sunday at 2 am

```
0 2 * * 0 /home/user/backup.sh
```

### Run a script every weekday at 8 am

```
0 8 * * 1-5 /home/user/weekday.sh
```

### Redirect output to a log file

```
0 7 * * * /home/user/script.sh > /home/user/script.log 2>&1
```

### Run all pending daily jobs using anacron

```
anacron -s
```

## System-wide Crontab

The system-wide crontab file is `/etc/crontab`. It includes an extra user field

```
minute hour day_of_month month day_of_week user command
```

## Cron Directories

- `/etc/cron.hourly` : scripts executed hourly
    
- `/etc/cron.daily` : scripts executed daily
    
- `/etc/cron.weekly` : scripts executed weekly
    
- `/etc/cron.monthly` : scripts executed monthly
    

## Tips

- Use absolute paths in scripts
    
- Check environment variables as cron runs with minimal environment
    
- Combine Cronie with Anacron for systems that are not always on
    

* * *

* * *

&nbsp;
