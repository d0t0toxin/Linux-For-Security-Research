
* * *

**Permissions / Ownership:** `chmod`, `chown`, `chgrp`, `umask`, `getfacl`, `setfacl`

* * *

* * *

# Linux `chmod` Command

The `chmod` (change mode) command in Linux is used to change the permissions of files and directories. Permissions determine who can read, write, or execute a file.

* * *

## Permission Types

Each file or directory has three types of permissions:

| Permission | Symbol | Description |
| --- | --- | --- |
| Read | r   | Allows reading the file or listing the directory |
| Write | w   | Allows modifying the file or directory contents |
| Execute | x   | Allows executing the file or entering the directory |

These permissions are grouped for three categories of users:

| User Type | Symbol | Description |
| --- | --- | --- |
| Owner (User) | u   | The file's owner |
| Group | g   | Users in the file's group |
| Others (World) | o   | All other users |
| All | a   | Applies to owner, group, and others |

* * *

## Permission Representation

Permissions can be represented in two ways:

### Symbolic Notation

`rwx` symbols with user type prefix (u, g, o, a).

### Numeric (Octal) Notation

| Permission | Value |
| --- | --- |
| \--- | 0   |
| \--x | 1   |
| \-w- | 2   |
| \-wx | 3   |
| r-- | 4   |
| r-x | 5   |
| rw- | 6   |
| rwx | 7   |

* * *

## Basic Syntax

```bash
chmod [options] mode file
```

- `mode`: permissions to set (symbolic or numeric)
    
- `file`: the file or directory to modify
    

* * *

## Examples

### 1\. Using Symbolic Mode

#### Give execute permission to the owner:

```bash
chmod u+x file.sh
```

#### Remove write permission from group:

```bash
chmod g-w file.txt
```

#### Add read permission to others:

```bash
chmod o+r file.txt
```

#### Set permissions for all (user, group, others):

```bash
chmod a+rx script.sh
```

### 2\. Using Numeric Mode

#### Set permissions to `rwx` for owner, `r-x` for group, `r--` for others:

```bash
chmod 754 file.txt
```

#### Set full permissions for everyone:

```bash
chmod 777 file.txt
```

#### Set read/write for owner, read-only for group and others:

```bash
chmod 644 file.txt
```

### 3\. Recursive Permission Changes

Apply permissions to a directory and all its contents:

```bash
chmod -R 755 /path/to/directory
```

### 4\. Combining Symbolic Changes

Add write for group and remove execute for others:

```bash
chmod g+w,o-x file.txt
```

### 5\. Viewing Permissions

Before and after changing permissions, use:

```bash
ls -l file.txt
```

Example output:

```
-rw-r--r-- 1 user group 1024 Jan 20 20:00 file.txt
```

### 6\. Special Permissions (Optional)

#### Setuid (s): Run as file owner

```bash
chmod u+s program
```

#### Setgid (s): Run as group

```bash
chmod g+s folder
```

#### Sticky bit (t): Only file owner can delete

```bash
chmod +t /tmp/shared_folder
```

* * *

This guide covers the essential usage of `chmod` in Linux, both symbolic and numeric methods, with practical examples for files and directories.

* * *

* * *

# Linux `chown` Command

The `chown` (change owner) command in Linux is used to change the owner and group of files and directories.

* * *

## Basic Syntax

```bash
chown [options] owner[:group] file
```

- `owner`: username of the new owner
    
- `group` (optional): name of the new group
    
- `file`: file or directory whose ownership is to be changed
    

### Notes:

- If `:group` is omitted, only the owner is changed.
    
- If `owner:` is omitted (e.g., `:group`), only the group is changed.
    

* * *

## Common Options

| Option | Description |
| --- | --- |
| `-R` | Apply changes recursively to directories and their contents |
| `-v` | Verbose mode, show files as they are changed |
| `--reference=RFILE` | Use RFILE's owner and group instead of specifying manually |

* * *

## Examples

### 1\. Change File Owner

Change the owner of a file to `alice`:

```bash
chown alice file.txt
```

### 2\. Change Owner and Group

Change owner to `alice` and group to `developers`:

```bash
chown alice:developers file.txt
```

### 3\. Change Only Group

Change the group of a file to `developers`:

```bash
chown :developers file.txt
```

### 4\. Recursive Ownership Change

Change owner and group for a directory and all its contents:

```bash
chown -R alice:developers /path/to/directory
```

### 5\. Verbose Mode

Show changes while applying:

```bash
chown -v alice file.txt
```

Output:

```
changed ownership of 'file.txt' from bob:bob to alice:alice
```

### 6\. Use Reference File

Change ownership of `file2.txt` to match `file1.txt`:

```bash
chown --reference=file1.txt file2.txt
```

### 7\. Examples of Special Scenarios

#### Change ownership of multiple files:

```bash
chown alice file1.txt file2.txt file3.txt
```

#### Change ownership using numeric UID and GID:

```bash
chown 1001:1002 file.txt
```

* * *

## Viewing Ownership

Check owner and group of files:

```bash
ls -l file.txt
```

Example output:

```
-rw-r--r-- 1 alice developers 1024 Jan 20 20:00 file.txt
```

* * *

This guide covers the essential usage of `chown` in Linux with examples for changing owner, group, both together, recursively, and using references.

* * *

* * *

# Linux `chgrp` Command

The `chgrp` (change group) command in Linux is used to change the group ownership of files and directories.

* * *

## Basic Syntax

```bash
chgrp [options] group file
```

- `group`: Name of the new group
    
- `file`: File or directory whose group is to be changed
    

### Notes:

- Only the group ownership is changed, not the file owner.
    
- The user must either own the file or have superuser privileges to change the group.
    

* * *

## Common Options

| Option | Description |
| --- | --- |
| `-R` | Apply changes recursively to directories and their contents |
| `-v` | Verbose mode, show files as they are changed |
| `--reference=RFILE` | Use RFILE's group instead of specifying manually |

* * *

## Examples

### 1\. Change Group of a File

Change the group of `file.txt` to `developers`:

```bash
chgrp developers file.txt
```

### 2\. Change Group of a Directory

Change the group of a directory:

```bash
chgrp developers /path/to/directory
```

### 3\. Recursive Group Change

Change the group for a directory and all its contents:

```bash
chgrp -R developers /path/to/directory
```

### 4\. Verbose Mode

Show changes while applying:

```bash
chgrp -v developers file.txt
```

Output:

```
changed group of 'file.txt' from users to developers
```

### 5\. Use Reference File

Change the group of `file2.txt` to match `file1.txt`:

```bash
chgrp --reference=file1.txt file2.txt
```

### 6\. Change Group of Multiple Files

```bash
chgrp developers file1.txt file2.txt file3.txt
```

* * *

## Viewing Group Ownership

Check the owner and group of files:

```bash
ls -l file.txt
```

Example output:

```
-rw-r--r-- 1 alice developers 1024 Jan 20 20:00 file.txt
```

* * *

This guide covers the essential usage of `chgrp` in Linux, including changing the group for files and directories, recursive operations, verbose output, and using reference files.

* * *

* * *

# Linux `umask` Command

The `umask` (user file creation mask) command in Linux sets the default permissions for newly created files and directories. It defines which permission bits **will be disabled** when a new file or directory is created.

* * *

## Basic Concepts

- Default permissions for new files: `666` (read and write for all: owner, group, others)
    
- Default permissions for new directories: `777` (read, write, execute for all)
    
- `umask` subtracts permissions from the defaults.
    

### Formula:

```
File permissions = Default file permissions - umask
Directory permissions = Default directory permissions - umask
```

* * *

## Basic Syntax

```bash
umask [options] [mask]
```

- Without arguments: shows the current umask
    
- With argument: sets a new umask value
    

### Notes:

- Umask can be expressed in **octal** or **symbolic** form
    
- Typical octal values range from `000` to `777`
    

* * *

## Viewing Current Umask

```bash
umask
```

Example output:

```
0022
```

This means:

- Owner: full permissions
    
- Group: cannot write
    
- Others: cannot write
    

* * *

## Setting Umask

### 1\. Using Octal Values

- `umask 022` → New files: `644`, directories: `755`
    
- `umask 027` → New files: `640`, directories: `750`
    
- `umask 077` → New files: `600`, directories: `700`
    

### Example:

```bash
umask 022
touch newfile.txt
mkdir newdir
ls -l newfile.txt newdir
```

Expected output:

```
-rw-r--r-- 1 user group 0 Jan 20 20:00 newfile.txt
drwxr-xr-x 2 user group 4096 Jan 20 20:00 newdir
```

### 2\. Using Symbolic Mode

- `u=rwx,g=rx,o=rx` → Equivalent to umask `022`
    
- `u=rwx,g=rx,o=` → Equivalent to umask `027`
    

Set symbolic umask:

```bash
umask u=rwx,g=rx,o=
```

* * *

## Common Examples

### 1\. Check current umask

```bash
umask
```

### 2\. Set default umask for all sessions

Edit `~/.bashrc` or `~/.profile`:

```bash
umask 027
```

### 3\. Temporary umask change

```bash
umask 077
touch secretfile.txt
```

- Only owner can read/write, group and others have no access

### 4\. Understanding the effect of umask

```bash
umask 022
touch file.txt    # Permissions: 644 (-rw-r--r--)
mkdir dir         # Permissions: 755 (drwxr-xr-x)
```

* * *

## Notes

- `umask` only affects **newly created** files/directories, not existing ones
    
- `umask` values are usually set in login scripts for users to enforce default permissions
    
- Root user can override umask for stricter control
    

* * *

This guide covers the essential usage of `umask` in Linux, including octal and symbolic settings, examples for files and directories, and temporary vs permanent changes.

* * *

* * *

# Linux `getfacl` Command

The `getfacl` command in Linux is used to display the Access Control Lists (ACLs) of files and directories. ACLs provide more fine-grained permissions than traditional UNIX file permissions.

* * *

## Basic Syntax

```bash
getfacl [options] file_or_directory
```

- `file_or_directory`: The target file or directory whose ACLs you want to view

* * *

## Common Options

| Option | Description |
| --- | --- |
| `-R` | Recursively display ACLs for directories and their contents |
| `-n` | Display numeric UID and GID instead of names |
| `--omit-header` | Display ACL without header information |

* * *

## Viewing ACLs

### 1\. Basic Example

```bash
getfacl file.txt
```

Example output:

```
# file: file.txt
# owner: alice
# group: developers
user::rw-
user:bob:r--
group::r--
mask::rw-
other::r--
```

Explanation:

- `user::rw-` → Owner permissions
    
- `user:bob:r--` → Specific user `bob` has read permission
    
- `group::r--` → Group permissions
    
- `mask::rw-` → Maximum allowed permissions for users/groups
    
- `other::r--` → Permissions for others
    

### 2\. Recursive ACLs

```bash
getfacl -R /path/to/directory
```

Displays ACLs for the directory and all files/subdirectories inside.

### 3\. Display Numeric IDs

```bash
getfacl -n file.txt
```

Shows numeric UID and GID instead of names.

### 4\. Examples with Multiple Files

```bash
getfacl file1.txt file2.txt file3.txt
```

Displays ACLs for all specified files.

* * *

## Setting ACLs (for reference, using `setfacl`)

To fully utilize `getfacl`, you may use `setfacl` to set permissions:

### Example: Give read/write to a specific user

```bash
setfacl -m u:bob:rw file.txt
```

### Example: Give read to a specific group

```bash
setfacl -m g:designers:r file.txt
```

### Remove an ACL entry

```bash
setfacl -x u:bob file.txt
```

* * *

## Notes

- `getfacl` is useful for checking extended permissions beyond standard `chmod` settings
    
- You need `acl` support enabled on the filesystem to use ACLs
    
- Always verify ACLs with `getfacl` after setting them with `setfacl`
    

* * *

This guide covers the essential usage of `getfacl` in Linux, including viewing ACLs for files and directories, recursive checks, numeric UID/GID display, and integration with `setfacl` for managing ACLs.

* * *

* * *

# Linux `setfacl` Command

The `setfacl` command in Linux is used to set Access Control Lists (ACLs) for files and directories, allowing more fine-grained permission control than traditional UNIX permissions.

* * *

## Basic Syntax

```bash
setfacl [options] acl_spec file_or_directory
```

- `acl_spec`: ACL specification (user, group, mask, or default)
    
- `file_or_directory`: Target file or directory
    

### Notes:

- ACLs provide permissions for specific users and groups beyond standard owner/group/other permissions
    
- You need `acl` support enabled on the filesystem
    

* * *

## Common Options

| Option | Description |
| --- | --- |
| `-m` | Modify or add ACL entries |
| `-x` | Remove ACL entries |
| `-b` | Remove all ACL entries (reset to default permissions) |
| `-k` | Remove default ACL entries |
| `-R` | Apply changes recursively to directories and their contents |
| `-v` | Verbose output |
| `-d` | Set default ACL for directories (applies to newly created files/dirs inside) |

* * *

## ACL Specification Syntax

```
[default:] [u|g|o|m]:name:permissions
```

- `u` → user
    
- `g` → group
    
- `o` → others
    
- `m` → mask (maximum allowed permissions)
    
- `default:` → set default ACL for directories
    
- `permissions` → combination of `r` (read), `w` (write), `x` (execute)
    

* * *

## Examples

### 1\. Add ACL for a specific user

```bash
setfacl -m u:bob:rw file.txt
```

- Gives user `bob` read and write permissions on `file.txt`

### 2\. Add ACL for a specific group

```bash
setfacl -m g:developers:r file.txt
```

- Gives group `developers` read-only permission

### 3\. Remove an ACL entry

```bash
setfacl -x u:bob file.txt
```

- Removes ACL entry for user `bob`

### 4\. Remove all ACLs

```bash
setfacl -b file.txt
```

- Resets file permissions to standard owner/group/other permissions

### 5\. Set default ACL for a directory

```bash
setfacl -d -m u:bob:rw /project_dir
```

- All new files in `/project_dir` inherit read/write permissions for user `bob`

### 6\. Recursive ACL changes

```bash
setfacl -R -m u:bob:rw /project_dir
```

- Applies ACL modification to all files and directories inside `/project_dir`

### 7\. View ACLs after setting

```bash
getfacl file.txt
```

- Verify the applied ACLs

* * *

## Notes

- ACLs provide flexibility for multiple users/groups without changing the standard UNIX permission model
    
- Use `getfacl` to check ACLs and `setfacl` to manage them
    
- Remember that `mask` limits the maximum effective permissions for users/groups other than the owner
    

* * *

This guide covers the essential usage of `setfacl` in Linux, including adding, modifying, removing ACLs, setting default ACLs, recursive operations, and verification with `getfacl`.

* * *

* * *

&nbsp;
