***
**Network Information:** `ip`, `ss`, `nmcli`, `ifconfig`, `route`, `arp`, `hostname`
***
***
# The `ip` Command

The `ip` command is part of the **iproute2** suite and is the modern replacement for older networking tools like `ifconfig`, `route`, `arp`, and `netstat`.

It is used to **configure, monitor, and manage networking** in Linux.

* * *

## Table of Contents

1.  What is `ip`
    
2.  General Syntax
    
3.  IP Address Management (`ip addr`)
    
4.  Network Interfaces (`ip link`)
    
5.  Routing (`ip route`)
    
6.  Neighbors / ARP (`ip neigh`)
    
7.  Network Statistics (`ip -s`)
    
8.  Policy Routing (`ip rule`)
    
9.  Network Namespaces (`ip netns`)
    
10. Tunnels (`ip tunnel`)
    
11. Monitoring (`ip monitor`)
    
12. Common Replacements for Old Commands
    
13. Practical Examples
    
14. Tips & Best Practices
    

* * *

## 1\. What is `ip`

- Part of **iproute2** package
    
- Works with **netlink** (kernel interface)
    
- Faster, script-friendly, and more powerful than legacy tools
    

Check version:

```bash
ip -V
```

* * *

## 2\. General Syntax

```bash
ip [OPTIONS] OBJECT COMMAND [ARGUMENTS]
```

### Common Objects

| Object | Purpose |
| --- | --- |
| `addr` | IP address management |
| `link` | Network interface control |
| `route` | Routing table |
| `neigh` | ARP / neighbor table |
| `rule` | Policy routing rules |
| `netns` | Network namespaces |
| `tunnel` | IP tunnels |
| `monitor` | Event monitoring |

### Global Options

| Option | Meaning |
| --- | --- |
| `-4` | IPv4 only |
| `-6` | IPv6 only |
| `-br` | Brief output |
| `-json` | JSON output |
| `-s` | Statistics |

* * *

## 3\. IP Address Management (`ip addr`)

### Show IP Addresses

```bash
ip addr show
ip a
```

Brief output:

```bash
ip -br addr
```

Show specific interface:

```bash
ip addr show eth0
```

### Add IP Address

```bash
sudo ip addr add 192.168.1.100/24 dev eth0
```

### Remove IP Address

```bash
sudo ip addr del 192.168.1.100/24 dev eth0
```

### Flush Addresses

```bash
sudo ip addr flush dev eth0
```

* * *

## 4\. Network Interfaces (`ip link`)

### Show Interfaces

```bash
ip link show
ip link
```

Brief:

```bash
ip -br link
```

### Bring Interface Up / Down

```bash
sudo ip link set eth0 up
sudo ip link set eth0 down
```

### Rename Interface

```bash
sudo ip link set eth0 name lan0
```

### Change MAC Address

```bash
sudo ip link set dev eth0 address 02:01:02:03:04:08
```

* * *

## 5\. Routing (`ip route`)

### Show Routing Table

```bash
ip route
```

IPv6 routes:

```bash
ip -6 route
```

### Add Default Gateway

```bash
sudo ip route add default via 192.168.1.1
```

### Add Static Route

```bash
sudo ip route add 10.0.0.0/24 via 192.168.1.254
```

### Delete Route

```bash
sudo ip route del 10.0.0.0/24
```

### Replace Route

```bash
sudo ip route replace default via 192.168.1.254
```

* * *

## 6\. Neighbors / ARP (`ip neigh`)

### Show ARP Table

```bash
ip neigh
```

### Add Static ARP Entry

```bash
sudo ip neigh add 192.168.1.10 lladdr aa:bb:cc:dd:ee:ff dev eth0
```

### Delete ARP Entry

```bash
sudo ip neigh del 192.168.1.10 dev eth0
```

### Flush Neighbor Cache

```bash
sudo ip neigh flush all
```

* * *

## 7\. Network Statistics (`ip -s`)

```bash
ip -s link
ip -s addr
```

Show dropped packets, errors, RX/TX counts.

* * *

## 8\. Policy Routing (`ip rule`)

### Show Rules

```bash
ip rule show
```

### Add Rule

```bash
sudo ip rule add from 192.168.2.0/24 table 2
```

### Add Route to Custom Table

```bash
sudo ip route add default via 192.168.2.1 table 2
```

* * *

## 9\. Network Namespaces (`ip netns`)

### List Namespaces

```bash
ip netns list
```

### Create Namespace

```bash
sudo ip netns add ns1
```

### Execute Command in Namespace

```bash
sudo ip netns exec ns1 ip addr
```

### Delete Namespace

```bash
sudo ip netns del ns1
```

* * *

## 10\. Tunnels (`ip tunnel`)

### Show Tunnels

```bash
ip tunnel show
```

### Create GRE Tunnel

```bash
sudo ip tunnel add gre1 mode gre local 1.1.1.1 remote 2.2.2.2 ttl 255
sudo ip link set gre1 up
```

* * *

## 11\. Monitoring (`ip monitor`)

Monitor address changes:

```bash
ip monitor addr
```

Monitor everything:

```bash
ip monitor all
```

* * *

## 12\. Replacements for Old Commands

| Old Command | New `ip` Command |
| --- | --- |
| `ifconfig` | `ip addr`, `ip link` |
| `route` | `ip route` |
| `arp` | `ip neigh` |
| `netstat -i` | `ip -s link` |
| `netstat -r` | `ip route` |

* * *

## 13\. Practical Examples

### Check Your IP Quickly

```bash
ip -br a
```

### Find Default Gateway

```bash
ip route | grep default
```

### Restart Interface (Without NetworkManager)

```bash
sudo ip link set eth0 down
sudo ip link set eth0 up
```

### Temporary IP Assignment

```bash
sudo ip addr add 10.10.10.5/24 dev eth0
```

* * *

## 14\. Tips & Best Practices

- Changes made with `ip` are **temporary** (reset on reboot)
    
- Use scripts or system config files for persistence
    
- Prefer `-br` for scripting
    
- Combine with `jq` using `-json`
    

* * *

## Quick Help

```bash
ip help
ip addr help
ip route help
```

* * *

## Summary

The `ip` command is the **core Linux networking tool**:

- Powerful
    
- Scriptable
    
- Kernel-native
    

Mastering it means mastering Linux networking.

* * *

* * *

# The `ss` Command

The `ss` (**socket statistics**) command is a powerful Linux utility used to **inspect network sockets**. It is part of the **iproute2** suite and is the modern replacement for `netstat`.

`ss` is **faster**, **more accurate**, and **kernel-based**, making it ideal for debugging, monitoring, and auditing network connections.

* * *

## Table of Contents

1.  What is `ss`
    
2.  Why Use `ss` Instead of `netstat`
    
3.  General Syntax
    
4.  Socket States Explained
    
5.  Basic Usage
    
6.  TCP Connections
    
7.  UDP Sockets
    
8.  Listening Ports
    
9.  Filtering & Expressions
    
10. Process & PID Information
    
11. IPv4 / IPv6 Control
    
12. Statistics & Summary
    
13. Advanced Examples
    
14. `ss` vs `netstat` Comparison
    
15. Troubleshooting Scenarios
    
16. Tips & Best Practices
    

* * *

## 1\. What is `ss`

- `ss` = **socket statistics**
    
- Reads data directly from the **Linux kernel**
    
- Displays detailed info about:
    
    - TCP / UDP
        
    - UNIX sockets
        
    - Listening ports
        
    - Established connections
        

Check version:

```bash
ss -V
```

* * *

## 2\. Why Use `ss` Instead of `netstat`

| Feature | ss  | netstat |
| --- | --- | --- |
| Speed | Very fast | Slower |
| Kernel interface | Yes | No  |
| Filtering | Advanced | Limited |
| Actively maintained | Yes | Deprecated |

* * *

## 3\. General Syntax

```bash
ss [OPTIONS] [FILTER]
```

### Common Options

| Option | Meaning |
| --- | --- |
| `-t` | TCP sockets |
| `-u` | UDP sockets |
| `-l` | Listening sockets |
| `-n` | Do not resolve names |
| `-p` | Show process info |
| `-a` | All sockets |
| `-s` | Summary statistics |
| `-4` | IPv4 only |
| `-6` | IPv6 only |
| `-r` | Resolve names |
| `-e` | Extended info |
| `-o` | Timer info |
| `-i` | Internal TCP info |

* * *

## 4\. Socket States Explained

Common TCP states:

| State | Meaning |
| --- | --- |
| LISTEN | Waiting for connection |
| ESTAB | Established connection |
| SYN-SENT | Connection request sent |
| SYN-RECV | Connection request received |
| FIN-WAIT-1 | Closing (active) |
| FIN-WAIT-2 | Closing (passive) |
| TIME-WAIT | Waiting to close |
| CLOSE-WAIT | Remote closed |

* * *

## 5\. Basic Usage

### Show All Sockets

```bash
ss
```

### Show All TCP & UDP Sockets

```bash
ss -a
```

### Numeric Output (Recommended)

```bash
ss -n
```

* * *

## 6\. TCP Connections

### Show All TCP Connections

```bash
ss -t
```

### Established TCP Connections

```bash
ss -t state established
```

### Listening TCP Ports

```bash
ss -lt
```

### TCP Connections with Process Info

```bash
ss -ltp
```

* * *

## 7\. UDP Sockets

### Show All UDP Sockets

```bash
ss -u
```

### Listening UDP Ports

```bash
ss -lu
```

### UDP with Process Info

```bash
ss -lup
```

* * *

## 8\. Listening Ports

### All Listening Ports (TCP + UDP)

```bash
ss -l
```

### Listening with Numeric + Process Info

```bash
ss -lnp
```

* * *

## 9\. Filtering & Expressions

### Filter by Port

```bash
ss -t sport = :22
ss -t dport = :443
```

### Filter by IP Address

```bash
ss dst 192.168.1.10
```

### Filter by State

```bash
ss state listening
ss state time-wait
```

### Combine Filters

```bash
ss -t state established '( sport = :ssh or dport = :ssh )'
```

* * *

## 10\. Process & PID Information

### Show Process Using Port

```bash
ss -ltnp
```

Output includes:

- PID
    
- Process name
    
- File descriptor
    

* * *

## 11\. IPv4 / IPv6 Control

### IPv4 Only

```bash
ss -4 -t
```

### IPv6 Only

```bash
ss -6 -t
```

* * *

## 12\. Statistics & Summary

### Socket Summary

```bash
ss -s
```

Shows:

- Total sockets
    
- TCP states count
    
- UDP usage
    

* * *

## 13\. Advanced Examples

### Find Who Is Using Port 80

```bash
ss -ltnp '( sport = :80 )'
```

### Count Established Connections

```bash
ss -tan state established | wc -l
```

### Show TCP Timers

```bash
ss -to
```

### Show TCP Internal Info (RTT, cwnd)

```bash
ss -ti
```

* * *

## 14\. `ss` vs `netstat` Comparison

| netstat | ss  |
| --- | --- |
| `netstat -tulnp` | `ss -tulnp` |
| `netstat -an` | `ss -an` |
| `netstat -s` | `ss -s` |

* * *

## 15\. Troubleshooting Scenarios

### Server Not Accepting Connections

```bash
ss -lt
```

Check if service is listening.

### Too Many Connections

```bash
ss -tan state established
```

### Debug TIME_WAIT Flood

```bash
ss -tan state time-wait
```

* * *

## 16\. Tips & Best Practices

- Always use `-n` for speed
    
- Combine with `grep`, `awk`, `wc`
    
- Use `ss -s` for quick health checks
    
- Prefer `ss` over `netstat` in scripts
    

* * *

## Quick Help

```bash
ss -h
man ss
```

* * *

## Summary

The `ss` command is the **go-to Linux tool for socket inspection**:

- Fast
    
- Accurate
    
- Kernel-native
    

Mastering `ss` is essential for **network debugging, security audits, and performance tuning**.

* * *

* * *

# The `nmcli` Command

The `nmcli` command is the **command-line interface for NetworkManager**, used to configure, manage, and monitor network connections on Linux systems.

It is widely used on **desktop, server, cloud, and headless systems** and is the recommended way to manage networking where NetworkManager is present.

* * *

## Table of Contents

1.  What is `nmcli`
    
2.  NetworkManager Overview
    
3.  General Syntax
    
4.  Understanding Objects
    
5.  Device Management (`nmcli device`)
    
6.  Connection Management (`nmcli connection`)
    
7.  Wi-Fi Management
    
8.  Ethernet Management
    
9.  IP Address Configuration
    
10. DNS Configuration
    
11. Routing with nmcli
    
12. Connection Profiles Explained
    
13. Monitoring & Status
    
14. nmcli vs ip/ifconfig
    
15. Troubleshooting Scenarios
    
16. Tips & Best Practices
    

* * *

## 1\. What is `nmcli`

- `nmcli` = **NetworkManager Command Line Interface**
    
- Manages network connections using **profiles**
    
- Supports:
    
    - Ethernet
        
    - Wi‑Fi
        
    - VPN
        
    - VLAN
        
    - Bond / Bridge
        
    - Mobile broadband
        

Check version:

```bash
nmcli --version
```

* * *

## 2\. NetworkManager Overview

NetworkManager is a daemon that:

- Automatically manages network interfaces
    
- Handles roaming (Wi‑Fi)
    
- Stores persistent connection profiles
    

Check status:

```bash
systemctl status NetworkManager
```

* * *

## 3\. General Syntax

```bash
nmcli [OPTIONS] OBJECT COMMAND [ARGUMENTS]
```

### Common Objects

| Object | Purpose |
| --- | --- |
| `general` | NetworkManager status |
| `device` | Network interfaces |
| `connection` | Connection profiles |
| `radio` | Wireless radios |
| `networking` | Global networking state |

* * *

## 4\. Understanding Objects

Short forms are allowed:

- `nmcli d` → `device`
    
- `nmcli c` → `connection`
    
- `nmcli g` → `general`
    

Example:

```bash
nmcli d status
```

* * *

## 5\. Device Management (`nmcli device`)

### List Devices

```bash
nmcli device status
```

### Show Device Details

```bash
nmcli device show eth0
```

### Disconnect Device

```bash
sudo nmcli device disconnect eth0
```

### Reconnect Device

```bash
sudo nmcli device connect eth0
```

* * *

## 6\. Connection Management (`nmcli connection`)

### List Connections

```bash
nmcli connection show
```

### Show Active Connections

```bash
nmcli connection show --active
```

### Bring Connection Up / Down

```bash
sudo nmcli connection up myconn
sudo nmcli connection down myconn
```

### Delete Connection

```bash
sudo nmcli connection delete myconn
```

* * *

## 7\. Wi-Fi Management

### Enable / Disable Wi‑Fi

```bash
nmcli radio wifi on
nmcli radio wifi off
```

### Scan Wi‑Fi Networks

```bash
nmcli device wifi list
```

### Connect to Wi‑Fi

```bash
sudo nmcli device wifi connect MySSID password mypassword
```

### Connect Using Interface

```bash
sudo nmcli device wifi connect MySSID ifname wlan0
```

* * *

## 8\. Ethernet Management

### Create Ethernet Connection

```bash
sudo nmcli connection add type ethernet ifname eth0 con-name lan0
```

### Activate Ethernet

```bash
sudo nmcli connection up lan0
```

* * *

## 9\. IP Address Configuration

### DHCP (Automatic)

```bash
nmcli connection modify lan0 ipv4.method auto
```

### Static IPv4

```bash
sudo nmcli connection modify lan0 \
  ipv4.method manual \
  ipv4.addresses 192.168.1.50/24 \
  ipv4.gateway 192.168.1.1
```

### Add DNS Servers

```bash
sudo nmcli connection modify lan0 ipv4.dns "8.8.8.8 1.1.1.1"
```

Apply changes:

```bash
sudo nmcli connection down lan0
sudo nmcli connection up lan0
```

* * *

## 10\. DNS Configuration

### Show DNS

```bash
nmcli device show | grep DNS
```

### Ignore Auto DNS

```bash
sudo nmcli connection modify lan0 ipv4.ignore-auto-dns yes
```

* * *

## 11\. Routing with nmcli

### Add Static Route

```bash
sudo nmcli connection modify lan0 +ipv4.routes "10.0.0.0/24 192.168.1.254"
```

### Show Routes

```bash
nmcli device show eth0 | grep ROUTE
```

* * *

## 12\. Connection Profiles Explained

Each connection is stored as a **profile**:

- Persistent across reboots
    
- Can be auto-connected
    
- Independent of device name
    

Show profile details:

```bash
nmcli connection show lan0
```

* * *

## 13\. Monitoring & Status

### General Status

```bash
nmcli general status
```

### Networking On / Off

```bash
nmcli networking off
nmcli networking on
```

* * *

## 14\. nmcli vs ip / ifconfig

| Task | nmcli | ip  |
| --- | --- | --- |
| Persistent config | Yes | No  |
| Wi‑Fi | Yes | No  |
| Profiles | Yes | No  |
| Low-level control | No  | Yes |

* * *

## 15\. Troubleshooting Scenarios

### No Network Access

```bash
nmcli general status
nmcli device status
```

### Wi‑Fi Not Connecting

```bash
nmcli device wifi list
nmcli connection show
```

### Reset NetworkManager

```bash
sudo systemctl restart NetworkManager
```

* * *

## 16\. Tips & Best Practices

- Use `nmcli` for **persistent configuration**
    
- Use `ip` for **temporary changes**
    
- Always reconnect connection after modification
    
- Script-friendly with `-t` and `-f`
    

Example:

```bash
nmcli -t -f DEVICE,STATE device status
```

* * *

## Quick Help

```bash
nmcli help
man nmcli
```

* * *

## Summary

The `nmcli` command is the **official and powerful way** to manage networking on modern Linux systems:

- Persistent
    
- Profile-based
    
- Feature-rich
    

Mastering `nmcli` means mastering **real-world Linux networking**.

* * *

* * *

# The `ifconfig` Command

The `ifconfig` command is a traditional Linux utility used to **configure, manage, and query network interfaces**. It has mostly been replaced by `ip` in modern distributions but is still widely used for quick checks and legacy systems.

* * *

## Table of Contents

1.  What is `ifconfig`
    
2.  Installing `ifconfig`
    
3.  General Syntax
    
4.  Displaying Network Interfaces
    
5.  Enabling / Disabling Interfaces
    
6.  Assigning IP Addresses
    
7.  Netmask & Broadcast Configuration
    
8.  Removing IP Addresses
    
9.  MAC Address Change
    
10. MTU Configuration
    
11. Alias Interfaces
    
12. IPv6 Configuration
    
13. Troubleshooting Examples
    
14. `ifconfig` vs `ip`
    
15. Tips & Best Practices
    

* * *

## 1\. What is `ifconfig`

- Stands for **interface configuration**
    
- Provides **information about network interfaces**
    
- Allows **manual configuration** of IP, netmask, broadcast, and more
    

Check version:

```bash
ifconfig --version
```

* * *

## 2\. Installing `ifconfig`

`ifconfig` is part of **net-tools** package:

```bash
# On Debian/Ubuntu
sudo apt install net-tools

# On RHEL/CentOS/Fedora
sudo yum install net-tools
```

* * *

## 3\. General Syntax

```bash
ifconfig [interface] [options]
```

### Common Options

| Option | Purpose |
| --- | --- |
| `up` | Enable interface |
| `down` | Disable interface |
| `netmask` | Set subnet mask |
| `broadcast` | Set broadcast address |
| `hw ether` | Set MAC address |
| `mtu` | Set Maximum Transmission Unit |
| `add` | Add IP alias |
| `del` | Delete IP alias |

* * *

## 4\. Displaying Network Interfaces

### Show All Interfaces

```bash
ifconfig
```

### Show Specific Interface

```bash
ifconfig eth0
```

### Brief Output (like `ip -br`)

```bash
ifconfig -a
```

* * *

## 5\. Enabling / Disabling Interfaces

### Bring Interface Up

```bash
sudo ifconfig eth0 up
```

### Bring Interface Down

```bash
sudo ifconfig eth0 down
```

* * *

## 6\. Assigning IP Addresses

### Temporary IP Assignment

```bash
sudo ifconfig eth0 192.168.1.100
```

### With Netmask

```bash
sudo ifconfig eth0 192.168.1.100 netmask 255.255.255.0
```

* * *

## 7\. Netmask & Broadcast Configuration

### Set Netmask

```bash
sudo ifconfig eth0 netmask 255.255.255.0
```

### Set Broadcast Address

```bash
sudo ifconfig eth0 broadcast 192.168.1.255
```

* * *

## 8\. Removing IP Addresses

`ifconfig` does not explicitly delete IPs like `ip addr del`, but you can:

```bash
sudo ifconfig eth0 0.0.0.0
```

This effectively removes the IP temporarily.

* * *

## 9\. MAC Address Change

### Change MAC Address

```bash
sudo ifconfig eth0 hw ether 02:01:02:03:04:08
```

* * *

## 10\. MTU Configuration

### Set MTU

```bash
sudo ifconfig eth0 mtu 1400
```

### Show MTU

```bash
ifconfig eth0 | grep MTU
```

* * *

## 11\. Alias Interfaces

### Create Alias

```bash
sudo ifconfig eth0:0 192.168.1.101 netmask 255.255.255.0 up
```

### Delete Alias

```bash
sudo ifconfig eth0:0 down
```

* * *

## 12\. IPv6 Configuration

`ifconfig` can show IPv6 but configuration is limited. Use `ip` for full IPv6 support.

Show IPv6 addresses:

```bash
ifconfig eth0 | grep inet6
```

* * *

## 13\. Troubleshooting Examples

### Check Interface Status

```bash
ifconfig eth0
```

### Ping Test After Config

```bash
ping 8.8.8.8
```

### Restart Network Interface

```bash
sudo ifconfig eth0 down
sudo ifconfig eth0 up
```

* * *

## 14\. `ifconfig` vs `ip`

| Task | ifconfig | ip  |
| --- | --- | --- |
| Show IP | ifconfig | ip addr show |
| Bring interface up | ifconfig eth0 up | ip link set eth0 up |
| Add IP | ifconfig eth0 192.168.1.10 | ip addr add 192.168.1.10/24 dev eth0 |
| Delete IP | ifconfig eth0 0.0.0.0 | ip addr del 192.168.1.10/24 dev eth0 |
| Routing | route | ip route |

* * *

## 15\. Tips & Best Practices

- `ifconfig` changes are **temporary**; use `/etc/network/interfaces` or `nmcli` for persistence
    
- Prefer `ip` for scripting and modern systems
    
- Combine `ifconfig` with `grep`, `awk`, and `netstat` for analysis
    

* * *

## Quick Help

```bash
ifconfig --help
man ifconfig
```

* * *

## Summary

The `ifconfig` command is a **classic tool for network interface management**:

- Simple and quick for interface checks
    
- Limited for advanced routing or IPv6
    
- Mostly replaced by `ip` on modern Linux
    

Understanding it helps **legacy systems troubleshooting** and network basics.

* * *

* * *

# The `route` Command

The `route` command is a traditional Linux utility used to **view and manipulate the IP routing table**. It has largely been replaced by `ip route` in modern Linux distributions but is still used on legacy systems.

* * *

## Table of Contents

1.  What is `route`
    
2.  Installing `route`
    
3.  General Syntax
    
4.  Viewing Routing Table
    
5.  Adding Routes
    
6.  Deleting Routes
    
7.  Setting Default Gateway
    
8.  Network and Host Routes
    
9.  Persisting Routes
    
10. IPv6 Routes
    
11. Troubleshooting Examples
    
12. `route` vs `ip route`
    
13. Tips & Best Practices
    

* * *

## 1\. What is `route`

- `route` = routing table manipulation tool
    
- Displays current routes for network interfaces
    
- Adds or removes routes manually
    

Check version:

```bash
route --version
```

* * *

## 2\. Installing `route`

`route` is part of **net-tools**:

```bash
# On Debian/Ubuntu
sudo apt install net-tools

# On RHEL/CentOS/Fedora
sudo yum install net-tools
```

* * *

## 3\. General Syntax

```bash
route [OPTION] [COMMAND] [DESTINATION] [GATEWAY] [METRIC] [IFACE]
```

### Common Commands

| Command | Purpose |
| --- | --- |
| `route` | Show routing table |
| `add` | Add route |
| `del` | Delete route |
| `-n` | Show numeric IPs (no DNS) |
| `-v` | Verbose output |

* * *

## 4\. Viewing Routing Table

### Show Routes

```bash
route
```

### Numeric Output (Recommended)

```bash
route -n
```

Example Output Columns:

- **Destination** – network or host
    
- **Gateway** – next hop
    
- **Genmask** – subnet mask
    
- **Iface** – interface
    
- **Metric** – route cost
    

* * *

## 5\. Adding Routes

### Add a Network Route

```bash
sudo route add -net 10.0.0.0 netmask 255.255.255.0 gw 192.168.1.1
```

### Add a Host Route

```bash
sudo route add -host 10.0.0.5 gw 192.168.1.1
```

### Add Default Gateway

```bash
sudo route add default gw 192.168.1.1
```

* * *

## 6\. Deleting Routes

### Delete Network Route

```bash
sudo route del -net 10.0.0.0 netmask 255.255.255.0
```

### Delete Host Route

```bash
sudo route del -host 10.0.0.5
```

### Delete Default Gateway

```bash
sudo route del default gw 192.168.1.1
```

* * *

## 7\. Setting Default Gateway

```bash
sudo route add default gw 192.168.1.1 eth0
```

Check default route:

```bash
route -n | grep '^0.0.0.0'
```

* * *

## 8\. Network and Host Routes

- **Network Route**: for a whole subnet

```bash
route add -net 192.168.2.0 netmask 255.255.255.0 gw 192.168.1.1
```

- **Host Route**: for a single IP

```bash
route add -host 192.168.2.50 gw 192.168.1.1
```

* * *

## 9\. Persisting Routes

- `route` changes are **temporary** (lost on reboot)
    
- Use `/etc/network/interfaces` (Debian/Ubuntu) or `/etc/sysconfig/network-scripts/` (RHEL/CentOS)
    

Debian example:

```
up route add -net 10.0.0.0 netmask 255.255.255.0 gw 192.168.1.1
```

* * *

## 10\. IPv6 Routes

For IPv6, `route` has limited support; prefer `ip -6 route`.

Show IPv6 routing table:

```bash
route -A inet6
```

* * *

## 11\. Troubleshooting Examples

### Check Current Routes

```bash
route -n
```

### Ping Through Specific Gateway

```bash
ping -I eth0 8.8.8.8
```

### Delete Incorrect Default Route

```bash
sudo route del default gw 192.168.1.254
```

* * *

## 12\. `route` vs `ip route`

| Task | route | ip route |
| --- | --- | --- |
| Show routes | route -n | ip route show |
| Add network | route add -net 10.0.0.0 netmask 255.255.255.0 gw 192.168.1.1 | ip route add 10.0.0.0/24 via 192.168.1.1 |
| Add default | route add default gw 192.168.1.1 | ip route add default via 192.168.1.1 |
| Delete route | route del -net 10.0.0.0 netmask 255.255.255.0 | ip route del 10.0.0.0/24 |

* * *

## 13\. Tips & Best Practices

- Prefer `ip route` for modern systems
    
- Always use `-n` for scripting to avoid DNS lookups
    
- Combine with `netstat -r` to cross-check
    
- Use `/etc/network/` or NetworkManager for persistence
    

* * *

## Quick Help

```bash
route --help
man route
```

* * *

## Summary

The `route` command is a **classic routing tool** for Linux:

- Quick check of routing table
    
- Manual route addition or deletion
    
- Legacy support for older systems
    

Modern replacement is `ip route` for scripting, IPv6, and advanced routing.

* * *

* * *

# The `arp` Command

The `arp` command in Linux is used to **view and manipulate the ARP (Address Resolution Protocol) cache**. ARP is responsible for mapping **IP addresses to MAC addresses** on a local network.

`arp` is often used for **network troubleshooting, monitoring, and manual MAC-IP assignments**.

* * *

## Table of Contents

1.  What is `arp`
    
2.  Installing `arp`
    
3.  General Syntax
    
4.  Viewing ARP Table
    
5.  Adding ARP Entries
    
6.  Deleting ARP Entries
    
7.  Clearing the ARP Cache
    
8.  Static vs Dynamic ARP Entries
    
9.  Monitoring ARP Changes
    
10. Troubleshooting Examples
    
11. `arp` vs `ip neigh`
    
12. Tips & Best Practices
    

* * *

## 1\. What is `arp`

- ARP = **Address Resolution Protocol**
    
- Maps IP addresses to **MAC addresses** on the same network segment
    
- `arp` command allows viewing, adding, and deleting these mappings
    

Check version:

```bash
arp -V
```

* * *

## 2\. Installing `arp`

`arp` is part of **net-tools**:

```bash
# On Debian/Ubuntu
sudo apt install net-tools

# On RHEL/CentOS/Fedora
sudo yum install net-tools
```

* * *

## 3\. General Syntax

```bash
arp [OPTIONS] [HOST]
```

### Common Options

| Option | Purpose |
| --- | --- |
| `-a` | Display all ARP entries |
| `-n` | Numeric output (no DNS lookup) |
| `-v` | Verbose output |
| `-d` | Delete an ARP entry |
| `-s` | Add a static ARP entry |
| `-i` | Specify interface |

* * *

## 4\. Viewing ARP Table

### Show All ARP Entries

```bash
arp -a
```

### Numeric Format

```bash
arp -n
```

### Show ARP Table for Specific Interface

```bash
arp -i eth0 -n
```

Example Output:

- **IP address**
    
- **HW type**
    
- **Flags** (C=complete, P=permanent)
    
- **HW address**
    
- **Device/interface**
    

* * *

## 5\. Adding ARP Entries

### Add Static ARP Entry

```bash
sudo arp -s 192.168.1.10 00:11:22:33:44:55
```

### Add Static Entry on Specific Interface

```bash
sudo arp -i eth0 -s 192.168.1.10 00:11:22:33:44:55
```

Static entries **persist until reboot**.

* * *

## 6\. Deleting ARP Entries

### Delete Specific Entry

```bash
sudo arp -d 192.168.1.10
```

### Delete Entry on Specific Interface

```bash
sudo arp -i eth0 -d 192.168.1.10
```

* * *

## 7\. Clearing the ARP Cache

To flush the ARP cache (clear all dynamic entries):

```bash
sudo ip -s -s neigh flush all
```

> Note: `arp` itself doesn’t provide a direct flush command; use `ip neigh` for this.

* * *

## 8\. Static vs Dynamic ARP Entries

- **Dynamic**: Learned automatically, removed after timeout
    
- **Static**: Manually configured, stays until reboot
    

Check type via `arp -a`:

- `PERM` or `P` indicates static
    
- `C` indicates dynamic
    

* * *

## 9\. Monitoring ARP Changes

Use `watch` to monitor ARP table changes:

```bash
watch -n 2 'arp -n'
```

* * *

## 10\. Troubleshooting Examples

### Check MAC for IP

```bash
arp -n | grep 192.168.1.10
```

### Add a Known MAC to Avoid ARP Spoofing

```bash
sudo arp -s 192.168.1.100 aa:bb:cc:dd:ee:ff
```

### Remove Incorrect ARP Entry

```bash
sudo arp -d 192.168.1.50
```

* * *

## 11\. `arp` vs `ip neigh`

| Task | arp | ip neigh |
| --- | --- | --- |
| Show ARP table | arp -a | ip neigh show |
| Add static | arp -s 192.168.1.10 00:11:22:33:44:55 | ip neigh add 192.168.1.10 lladdr 00:11:22:33:44:55 dev eth0 nud perm |
| Delete entry | arp -d 192.168.1.10 | ip neigh del 192.168.1.10 dev eth0 |
| Flush ARP cache | N/A | ip neigh flush all |

> `ip neigh` is the modern replacement for `arp`.

* * *

## 12\. Tips & Best Practices

- Use `arp -n` to avoid slow DNS resolution
    
- Use static entries to **prevent ARP spoofing**
    
- Use `watch` for **real-time monitoring**
    
- Prefer `ip neigh` for scripting and IPv6 support
    

* * *

## Quick Help

```bash
arp -h
man arp
```

* * *

## Summary

The `arp` command is a **legacy tool for managing ARP cache**:

- View MAC-IP mappings
    
- Add/delete static ARP entries
    
- Helpful for network troubleshooting and monitoring
    

Modern replacement is `ip neigh` for **full scripting and IPv6 support**.

* * *

* * *

# The `hostname` Command

The `hostname` command in Linux is used to **display or set the system’s hostname**, which identifies the machine on a network. It can also be used to configure DNS-related names.

* * *

## Table of Contents

1.  What is `hostname`
    
2.  Installing `hostname` Command
    
3.  General Syntax
    
4.  Viewing Hostname
    
5.  Setting Hostname Temporarily
    
6.  Setting Hostname Permanently
    
7.  Viewing Fully Qualified Domain Name (FQDN)
    
8.  Short vs Long Hostname
    
9.  Network Configuration and DNS
    
10. Displaying IP Address with Hostname
    
11. Command-line Options
    
12. Troubleshooting Examples
    
13. Tips & Best Practices
    

* * *

## 1\. What is `hostname`

- Displays or sets the system hostname
    
- Used for **network identification**
    
- Works with **DNS** for fully qualified names
    

Check version:

```bash
hostname --version
```

* * *

## 2\. Installing `hostname` Command

`hostname` is usually installed by default. If missing:

```bash
# On Debian/Ubuntu
sudo apt install net-tools

# On RHEL/CentOS/Fedora
sudo yum install net-tools
```

* * *

## 3\. General Syntax

```bash
hostname [OPTIONS] [NEW_HOSTNAME]
```

### Common Options

| Option | Purpose |
| --- | --- |
| `-s` | Show short hostname |
| `-f` | Show FQDN (Fully Qualified Domain Name) |
| `-i` | Show IP address(es) |
| `-I` | Show all IP addresses |
| `-d` | Show DNS domain name |
| `-y` | Show NIS domain name |
| `-a` | Show alias name |
| `-b` | Boot-time hostname |
| `--help` | Show help |

* * *

## 4\. Viewing Hostname

### Show Full Hostname

```bash
hostname
```

### Show Short Hostname

```bash
hostname -s
```

### Show FQDN

```bash
hostname -f
```

### Show Domain Name

```bash
hostname -d
```

### Show All IP Addresses

```bash
hostname -I
```

* * *

## 5\. Setting Hostname Temporarily

This change lasts until next reboot:

```bash
sudo hostname newhostname
```

Check temporary hostname:

```bash
hostname
```

* * *

## 6\. Setting Hostname Permanently

### Using `hostnamectl` (Systemd Systems)

```bash
sudo hostnamectl set-hostname newhostname
```

Verify:

```bash
hostnamectl status
```

### Editing `/etc/hostname`

```bash
sudo nano /etc/hostname
# Enter new hostname
sudo systemctl restart systemd-logind  # or reboot
```

### Updating `/etc/hosts`

```
127.0.0.1   newhostname
```

* * *

## 7\. Viewing Fully Qualified Domain Name (FQDN)

```bash
hostname -f
```

FQDN = `hostname.domain.com`

* * *

## 8\. Short vs Long Hostname

- **Short hostname**: `hostname -s` → e.g., `server1`
    
- **Long hostname / FQDN**: `hostname -f` → e.g., `server1.example.com`
    

* * *

## 9\. Network Configuration and DNS

- `hostname` interacts with **DNS resolution**
    
- Proper FQDN ensures **network services run correctly**
    

Test DNS resolution:

```bash
ping $(hostname -f)
```

* * *

## 10\. Displaying IP Address with Hostname

```bash
hostname -I        # Show all IPs
hostname -i        # Show primary IP
```

* * *

## 11\. Command-line Options

| Option | Description |
| --- | --- |
| `-s` | Short hostname |
| `-f` | FQDN |
| `-i` | Primary IP |
| `-I` | All IP addresses |
| `-d` | DNS domain |
| `-y` | NIS domain |
| `-a` | Alias |
| `-b` | Boot-time hostname |
| `--help` | Help info |
| `--version` | Version info |

* * *

## 12\. Troubleshooting Examples

### Check Current Hostname

```bash
hostname
```

### Ensure FQDN Resolves

```bash
hostname -f
ping $(hostname -f)
```

### Temporarily Change Hostname

```bash
sudo hostname tempname
```

### Permanently Change Hostname

```bash
sudo hostnamectl set-hostname permanentname
```

### Verify Permanent Hostname

```bash
hostnamectl status
```

* * *

## 13\. Tips & Best Practices

- Always set FQDN for servers in a network
    
- Use `hostnamectl` for permanent changes on systemd systems
    
- Update `/etc/hosts` for local resolution
    
- Avoid temporary hostname changes on production systems
    

* * *

## Quick Help

```bash
hostname --help
man hostname
```

* * *

## Summary

The `hostname` command is essential for **system identification** on a network:

- View or set hostnames
    
- Work with FQDNs and IPs
    
- Permanent changes via `hostnamectl` or `/etc/hostname`
    

* * *

* * *

&nbsp;
