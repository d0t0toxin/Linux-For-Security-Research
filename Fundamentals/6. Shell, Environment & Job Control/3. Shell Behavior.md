* * *

**Shell Behavior:** `alias`, `unalias`, `source`, `history`, `fc`

* * *

* * *

# Linux `alias` Command

The `alias` command in Linux is used to create **shortcuts** or **custom names** for longer or frequently used commands. Aliases are mainly used to improve productivity, reduce typing, and prevent mistakes.

* * *

## 1\. What is an Alias?

An **alias** is a user-defined shortcut that replaces a command or a sequence of commands with a shorter name.

### Example

```bash
alias ll='ls -la'
```

Now instead of typing `ls -la`, you can just type:

```bash
ll
```

* * *

## 2\. Syntax of `alias`

```bash
alias name='command'
```

### Rules

- No spaces around `=`
    
- Command must be inside **quotes**
    
- Alias name should not conflict with critical system commands
    

* * *

## 3\. Creating Aliases

### Simple Alias

```bash
alias cls='clear'
```

### Alias with Options

```bash
alias la='ls -A'
```

### Alias with Multiple Commands

```bash
alias update='sudo apt update && sudo apt upgrade'
```

* * *

## 4\. Listing Aliases

### List All Aliases

```bash
alias
```

### List a Specific Alias

```bash
alias ll
```

* * *

## 5\. Temporary vs Permanent Aliases

### Temporary Alias

Aliases created in the terminal **exist only for the current session**.

```bash
alias hi='echo Hello'
```

After closing the terminal, the alias disappears.

* * *

### Permanent Alias

To make aliases permanent, add them to shell configuration files:

#### For Bash

- `~/.bashrc`
    
- `~/.bash_aliases`
    

#### For Zsh

- `~/.zshrc`

#### Example

```bash
nano ~/.bashrc
```

Add:

```bash
alias ll='ls -lh'
```

Reload:

```bash
source ~/.bashrc
```

* * *

## 6\. Removing Aliases

### Remove a Single Alias

```bash
unalias ll
```

### Remove All Aliases

```bash
unalias -a
```

* * *

## 7\. Overriding Existing Commands

Aliases can override default commands.

### Example

```bash
alias rm='rm -i'
```

This makes `rm` interactive (asks before deleting).

### Bypass an Alias

Use a backslash:

```bash
\rm file.txt
```

Or use full path:

```bash
/bin/rm file.txt
```

* * *

## 8\. Aliases with Arguments (Limitation)

Aliases **cannot accept arguments** directly.

### This does not work

```bash
alias mkcd='mkdir $1 && cd $1'
```

### Use a function instead

```bash
mkcd() {
  mkdir "$1" && cd "$1"
}
```

* * *

## 9\. Useful Alias Examples

### File & Directory

```bash
alias ll='ls -la'
alias ..='cd ..'
alias ...='cd ../..'
```

### Git

```bash
alias gs='git status'
alias ga='git add .'
alias gc='git commit -m'
```

### System

```bash
alias reboot='sudo reboot'
alias shutdown='sudo shutdown now'
```

### Networking

```bash
alias myip='ip a'
alias ports='netstat -tulanp'
```

* * *

## 10\. Conditional Aliases

```bash
if command -v exa >/dev/null; then
  alias ls='exa --icons'
fi
```

* * *

## 11\. Aliases vs Functions

| Feature | Alias | Function |
| --- | --- | --- |
| Accepts arguments | No  | Yes |
| Simple syntax | Yes | No  |
| Multi-line logic | No  | Yes |

* * *

## 12\. Best Practices

- Use aliases for **short, simple commands**
    
- Use functions for **complex logic**
    
- Store aliases in `~/.bash_aliases`
    
- Avoid overriding critical commands blindly
    

* * *

## 13\. Debugging Aliases

### Check What a Command Resolves To

```bash
type ll
```

### Output

```bash
ll is aliased to `ls -la`
```

* * *

## 14\. Disable Aliases Temporarily

Start shell without aliases:

```bash
bash --noprofile --norc
```

* * *

## 15\. Summary

- `alias` creates command shortcuts
    
- Aliases are session-based unless saved
    
- Cannot accept arguments
    
- Best for productivity and safety
    

* * *

* * *

# Linux `unalias` Command

The `unalias` command in Linux is used to remove aliases that were previously created using the `alias` command. It helps restore original command behavior and is commonly used for debugging, cleanup, or temporary control over shell shortcuts.

* * *

## 1\. What is unalias

The `unalias` command deletes alias definitions from the current shell session. Once an alias is removed, the shell falls back to the original command or behavior.

Important note: `unalias` only affects the **current shell session** unless the alias is also removed from configuration files.

* * *

## 2\. Syntax of unalias

```bash
unalias name
```

To remove all aliases:

```bash
unalias -a
```

* * *

## 3\. Removing a Single Alias

If you know the alias name, you can remove it directly.

### Example

```bash
alias ll='ls -la'
unalias ll
```

After running `unalias ll`, the shortcut `ll` no longer exists.

* * *

## 4\. Removing Multiple Aliases

You can remove more than one alias by listing them.

### Example

```bash
unalias ll la gs
```

This removes the aliases `ll`, `la`, and `gs` if they exist.

* * *

## 5\. Removing All Aliases

To delete all aliases defined in the current shell:

```bash
unalias -a
```

This is useful when troubleshooting unexpected command behavior.

* * *

## 6\. Checking Alias Existence Before Removal

Before removing an alias, it is good practice to verify that it exists.

### Check an alias

```bash
alias ll
```

If the alias exists, it will be displayed. If not, the shell returns an error.

* * *

## 7\. Error Handling in unalias

If you attempt to remove an alias that does not exist, an error is shown.

### Example

```bash
unalias fakealias
```

### Output

```text
unalias: fakealias: not found
```

* * *

## 8\. Temporary vs Permanent Removal

### Temporary Removal

Using `unalias` in the terminal removes the alias only for the current session.

After closing the terminal or starting a new shell, the alias may reappear.

* * *

### Permanent Removal

To permanently remove an alias, delete it from the shell configuration file.

Common files include:

- `~/.bashrc`
    
- `~/.bash_aliases`
    
- `~/.zshrc`
    

### Example

```bash
nano ~/.bashrc
```

Remove or comment out the alias line:

```bash
alias ll='ls -la'
```

Reload the configuration:

```bash
source ~/.bashrc
```

* * *

## 9\. unalias vs Bypassing an Alias

### unalias

- Completely removes the alias
    
- Affects all future commands in the session
    

### Bypassing an Alias

You can bypass an alias without removing it.

```bash
\rm file.txt
```

This runs the original command without deleting the alias.

* * *

## 10\. Using unalias in Scripts

It is sometimes useful to remove aliases inside scripts to ensure predictable behavior.

### Example

```bash
unalias ls 2>/dev/null
ls /etc
```

The redirection prevents errors if the alias does not exist.

* * *

## 11\. Debugging with unalias

Unexpected command output is often caused by aliases.

### Debug workflow

1.  Check the command type

```bash
type rm
```

2.  Remove the alias

```bash
unalias rm
```

3.  Re-run the command

* * *

## 12\. Best Practices

- Use `unalias` when debugging shell behavior
    
- Remove aliases permanently from configuration files if no longer needed
    
- Avoid relying on `unalias -a` in shared environments
    
- Use redirection to suppress errors in scripts
    

* * *

## 13\. Summary

- `unalias` removes alias definitions
    
- Changes apply only to the current shell session
    
- `unalias -a` removes all aliases
    
- Permanent removal requires editing shell configuration files
    

* * *

* * *

# Linux `source` Command 

The `source` command in Linux is used to read and execute commands from a file in the **current shell environment**. Unlike executing a script normally, `source` does not create a new subshell. Any variables, functions, aliases, or environment changes remain active after the command completes.

* * *

## 1\. What is the source Command

The `source` command loads a file and executes its contents as if they were typed directly into the current shell. It is primarily used for applying configuration changes immediately without starting a new shell session.

The `source` command is a shell builtin in Bash and most POSIX-compatible shells.

* * *

## 2\. Syntax of source

```bash
source filename
```

An equivalent shorthand syntax is:

```bash
. filename
```

Both forms behave exactly the same.

* * *

## 3\. How source Works

When a script is executed normally:

```bash
./script.sh
```

- A new subshell is created
    
- Changes to variables or environment are lost after execution
    

When a script is sourced:

```bash
source script.sh
```

- No subshell is created
    
- All changes persist in the current shell
    

* * *

## 4\. Basic Example

Create a file named `vars.sh`:

```bash
NAME="Linux"
export VERSION="6.x"
```

Source the file:

```bash
source vars.sh
```

Verify:

```bash
echo $NAME
echo $VERSION
```

The variables remain available in the current shell.

* * *

## 5\. source vs Executing a Script

| Aspect | source | Execute Script |
| --- | --- | --- |
| Subshell created | No  | Yes |
| Variables persist | Yes | No  |
| Affects current shell | Yes | No  |

* * *

## 6\. Common Use Cases

### Reloading Shell Configuration

After editing configuration files, use `source` to apply changes immediately.

```bash
source ~/.bashrc
```

* * *

### Loading Environment Variables

```bash
source env.sh
```

Useful for development environments and build systems.

* * *

### Loading Functions

```bash
myfunc() {
  echo "Function loaded"
}
```

After sourcing, the function is available in the shell.

* * *

### Applying Aliases

```bash
alias ll='ls -la'
```

After sourcing the file, the alias becomes active.

* * *

## 7\. Using source with Relative and Absolute Paths

### Relative Path

```bash
source ./config.sh
```

### Absolute Path

```bash
source /home/user/config.sh
```

If the file is not found, the shell returns an error.

* * *

## 8\. Error Handling

If the sourced file contains errors, execution stops at the error line and may affect the current shell state.

Example:

```bash
source broken.sh
```

It is recommended to test scripts carefully before sourcing them.

* * *

## 9\. Using source in Scripts

The `source` command can be used inside scripts to reuse common logic.

### Example

```bash
source /etc/profile
```

This imports environment settings into the running script.

* * *

## 10\. Security Considerations

- Never source files from untrusted locations
    
- Sourcing executes all commands in the file
    
- Always review file contents before sourcing
    

Sourcing a malicious file can compromise the shell environment.

* * *

## 11\. source in Different Shells

- Bash supports `source` and `.`
    
- Dash supports `.` only
    
- Zsh supports both `source` and `.`
    

For portability, the dot syntax is often preferred in scripts.

* * *

## 12\. Best Practices

- Use `source` for configuration and environment loading
    
- Avoid sourcing large or complex scripts interactively
    
- Use absolute paths in scripts for reliability
    
- Test files before sourcing them
    

* * *

## 13\. Troubleshooting

### Command Not Found After source

Ensure the file defines the command correctly and that no syntax errors exist.

### Variables Not Updating

Confirm the file was sourced and not executed in a subshell.

* * *

## 14\. Summary

- `source` executes a file in the current shell
    
- No subshell is created
    
- Environment changes persist
    
- Commonly used for configuration reloads
    

* * *

* * *

# Linux `history` Command

The `history` command in Linux is used to display, manage, and reuse commands previously executed in the shell. It is a core feature of interactive shells such as Bash and is essential for productivity, auditing, and troubleshooting.

* * *

## 1\. What is the history Command

The `history` command shows a list of commands that have been executed in the current shell session and previous sessions, depending on configuration. Each command is stored with a line number that can be used for recall or re-execution.

* * *

## 2\. How Command History Works

When a command is executed, it is stored in memory and optionally written to a history file when the shell exits. In Bash, the default history file is:

```text
~/.bash_history
```

The size and behavior of history storage are controlled by environment variables.

* * *

## 3\. Syntax of history

```bash
history
```

With options:

```bash
history [options] [number]
```

* * *

## 4\. Displaying Command History

### Display Entire History

```bash
history
```

### Display Last N Commands

```bash
history 10
```

This shows the last ten commands.

* * *

## 5\. Understanding history Output

Each line of output contains:

- A command number
    
- The command that was executed
    

Example output:

```text
102  ls -la
103  cd /etc
104  cat hosts
```

* * *

## 6\. Re executing Commands from History

### Using Command Number

```bash
!104
```

This executes command number 104.

* * *

### Using the Previous Command

```bash
!!
```

This re executes the most recent command.

* * *

### Using Prefix Matching

```bash
!ls
```

This executes the most recent command that starts with ls.

* * *

## 7\. Searching Command History

### Reverse Search

Press:

```text
Ctrl + R
```

Start typing to search backward through command history interactively.

* * *

## 8\. history Options

### Clear Current Session History

```bash
history -c
```

This clears history from the current shell memory.

* * *

### Write History to File

```bash
history -w
```

Writes the current session history to the history file.

* * *

### Read History from File

```bash
history -r
```

Reads history from the history file into the current session.

* * *

### Append New Commands to History File

```bash
history -a
```

Appends new history lines to the history file.

* * *

## 9\. Deleting Specific History Entries

### Delete a Single Entry

```bash
history -d 104
```

Deletes the command with number 104.

* * *

### Delete a Range of Entries

```bash
history -d 100 110
```

Deletes commands from 100 to 110 if supported by the shell version.

* * *

## 10\. history Environment Variables

### HISTFILE

Specifies the file where history is stored.

```bash
echo $HISTFILE
```

* * *

### HISTSIZE

Number of commands stored in memory.

```bash
echo $HISTSIZE
```

* * *

### HISTFILESIZE

Maximum number of lines stored in the history file.

```bash
echo $HISTFILESIZE
```

* * *

### HISTCONTROL

Controls which commands are saved.

Common values:

- ignorespace
    
- ignoredups
    
- ignoreboth
    

* * *

### HISTIGNORE

Defines patterns of commands that should not be saved.

Example:

```bash
export HISTIGNORE="ls:cd:exit"
```

* * *

## 11\. history Expansion Safety

History expansion executes commands immediately. Always review expanded commands before pressing Enter, especially when using prefix matching.

To view expansion without execution:

```bash
!:p
```

* * *

## 12\. history in Scripts

The `history` command is primarily designed for interactive use and is generally not reliable in non interactive scripts.

* * *

## 13\. Security and Privacy Considerations

- History may store sensitive commands
    
- Passwords typed directly into commands may be saved
    
- Restrict access to history files
    

To disable history temporarily:

```bash
set +o history
```

Re enable history:

```bash
set -o history
```

* * *

## 14\. Best Practices

- Use reverse search instead of scrolling
    
- Regularly clean sensitive history entries
    
- Configure HISTCONTROL and HISTIGNORE
    
- Avoid entering secrets directly in commands
    

* * *

## 15\. Summary

- `history` displays previously executed commands
    
- Commands can be re executed using history expansion
    
- Behavior is configurable through environment variables
    
- Proper configuration improves productivity and security
    

* * *

* * *

# Linux `fc` Command

The `fc` command in Linux is used to list, edit, and re execute commands from the shell history. The name `fc` stands for fix command. It is mainly used in interactive shells such as Bash and provides a controlled way to modify previously executed commands before running them again.

* * *

## 1\. What is the fc Command

The `fc` command retrieves commands from the shell history, opens them in an editor for modification if required, and then executes the edited command. It is useful for correcting mistakes in long or complex commands without retyping them.

The `fc` command is a shell builtin in Bash and compatible shells.

* * *

## 2\. Syntax of fc

```bash
fc [options] [first] [last]
```

- first and last specify the range of commands in history
    
- If no range is provided, the previous command is used
    

* * *

## 3\. Basic Usage

### Edit the Previous Command

```bash
fc
```

This opens the most recent command in the default editor. After saving and exiting the editor, the command is executed.

* * *

## 4\. Editing a Specific Command

Commands in history are identified by numbers.

### Example

```bash
fc 120
```

This opens command number 120 for editing and execution.

* * *

## 5\. Editing a Range of Commands

You can edit multiple commands at once.

### Example

```bash
fc 120 125
```

All commands from 120 to 125 are opened in the editor and executed sequentially after saving.

* * *

## 6\. Listing Commands Without Editing

### List Recent Commands

```bash
fc -l
```

This lists recent commands instead of opening an editor.

* * *

### List a Specific Range

```bash
fc -l 100 110
```

This displays commands from history numbers 100 to 110.

* * *

## 7\. Re Executing Commands Without Editing

### Re Execute the Previous Command

```bash
fc -e -
```

The dash disables the editor and immediately runs the command.

* * *

### Re Execute a Specific Command

```bash
fc -e - 120
```

This runs command number 120 directly.

* * *

## 8\. Using Command Names Instead of Numbers

You can reference commands by their starting text.

### Example

```bash
fc grep
```

This edits the most recent command that starts with grep.

* * *

## 9\. Setting the Editor for fc

The editor used by `fc` is determined by environment variables.

Order of precedence:

1.  FCEDIT
    
2.  EDITOR
    
3.  Default editor
    

### Example

```bash
export FCEDIT=nano
```

* * *

## 10\. fc vs history

| Aspect | fc  | history |
| --- | --- | --- |
| Edit commands | Yes | No  |
| Re execute commands | Yes | Yes |
| Interactive correction | Yes | Limited |

* * *

## 11\. Practical Examples

### Correcting a Typo

Original command:

```bash
gti status
```

Fix using fc:

```bash
fc
```

Edit to:

```bash
git status
```

Save and exit to execute the corrected command.

* * *

### Re Running a Complex Command

```bash
fc -e - make build
```

This re executes the most recent command starting with make build.

* * *

## 12\. Using fc in Scripts

The `fc` command is designed for interactive use and should not be relied upon in non interactive shell scripts.

* * *

## 13\. Error Handling

If the specified history entry does not exist, the shell returns an error and no command is executed.

Always verify command ranges when using `fc -e -`.

* * *

## 14\. Security Considerations

- `fc` executes commands after editing
    
- Review commands carefully before saving
    
- Avoid using `fc` on commands containing sensitive data
    

* * *

## 15\. Best Practices

- Use `fc` for fixing long or complex commands
    
- Set a preferred editor using FCEDIT
    
- Use listing mode before execution when unsure
    
- Prefer `history` for auditing and `fc` for correction
    

* * *

## 16\. Summary

- `fc` edits and re executes commands from history
    
- Commands can be referenced by number or name
    
- Editor selection is configurable
    
- Best suited for interactive command correction
    

* * *

* * *

&nbsp;
