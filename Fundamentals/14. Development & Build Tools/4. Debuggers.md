***
**Debuggers:** `gdb`, `lldb`, `valgrind`
***
***
# GDB Command in Linux

## Introduction

GDB (GNU Debugger) is a powerful tool for debugging programs written in C, C++, and other languages. It allows developers to inspect the execution of a program, find bugs, examine memory, and control program flow.

## Basic Syntax

```
gdb [options] [executable] [core-file or program arguments]
```

* **executable**: The program to debug
* **core-file or program arguments**: Optional core dump or program arguments

## Starting GDB

```
gdb ./program
```

Starts GDB with the executable `program`.

### Example 1: Running a Program in GDB

```
(gdb) run arg1 arg2
```

Runs the program with arguments `arg1` and `arg2`.

### Example 2: Compiling for Debugging

Always compile with `-g` to include debug symbols:

```
gcc -g main.c -o main
```

## Common GDB Commands with Examples

### 1. break (or b)

Sets a breakpoint at a function or line number.

```
(gdb) break main        # Break at start of main function
(gdb) break 25          # Break at line 25
```

### 2. run (or r)

Starts the program inside GDB.

```
(gdb) run               # Runs program
(gdb) run arg1 arg2     # Runs program with arguments
```

### 3. next (or n)

Executes the next line of code, stepping over function calls.

```
(gdb) next
```

### 4. step (or s)

Executes the next line of code, stepping into function calls.

```
(gdb) step
```

### 5. continue (or c)

Continues execution until the next breakpoint or program end.

```
(gdb) continue
```

### 6. print (or p)

Prints the value of a variable or expression.

```
(gdb) print x
(gdb) print x + y
```

### 7. display

Automatically prints a variable each time the program stops.

```
(gdb) display x
```

### 8. info

Shows various program information.

```
(gdb) info breakpoints   # List all breakpoints
(gdb) info locals        # Show local variables
(gdb) info registers     # Show CPU registers
```

### 9. backtrace (or bt)

Displays the call stack.

```
(gdb) backtrace
```

### 10. frame

Selects a stack frame to examine variables and context.

```
(gdb) frame 2
```

### 11. list (or l)

Displays source code around a specific line or function.

```
(gdb) list main
(gdb) list 10,20
```

### 12. watch

Sets a watchpoint to monitor a variable for changes.

```
(gdb) watch x
```

### 13. delete

Deletes breakpoints or watchpoints.

```
(gdb) delete 1    # Deletes breakpoint/watchpoint 1
```

### 14. disable / enable

Disables or enables a breakpoint without deleting it.

```
(gdb) disable 2
(gdb) enable 2
```

### 15. set

Changes the value of a variable.

```
(gdb) set var x = 10
```

### 16. quit (or q)

Exits GDB.

```
(gdb) quit
```

## GDB Options When Starting

### 1. --args

Passes arguments to the program.

```
gdb --args ./program arg1 arg2
```

### 2. -tui

Starts GDB in a text user interface mode.

```
gdb -tui ./program
```

### 3. -ex command

Executes a command after starting.

```
gdb -ex run ./program
```

### 4. -batch

Runs GDB commands non-interactively.

```
gdb -batch -ex "run" -ex "bt" ./program
```

### 5. -core

Loads a core file for post-mortem debugging.

```
gdb ./program corefile
```

### 6. --version

Displays GDB version.

```
gdb --version
```

### 7. --help

Displays all GDB options.

```
gdb --help
```

## Example Debugging Session

```
gcc -g main.c utils.c -o program

gdb ./program
(gdb) break main
(gdb) run
(gdb) next
(gdb) print x
(gdb) continue
(gdb) backtrace
(gdb) quit
```

## Conclusion

GDB is an essential tool for debugging programs, inspecting variables, controlling program execution, and diagnosing issues efficiently. Mastering GDB commands and options significantly improves the debugging process.
***
***

