***
**Kernel Interfaces / Runtime Info:** `/proc`, `/sys`, `sysctl`, `uname`, `cat /proc/cpuinfo`, `cat /proc/meminfo`
***
***
# Linux `/proc` Filesystem

## Overview

The `/proc` filesystem is a virtual filesystem in Linux that provides an interface to kernel data structures. It is commonly used to obtain information about the system, processes, and hardware in real-time. Files and directories in `/proc` do not occupy disk space; they exist in memory and are dynamically generated by the kernel.

## Structure

The `/proc` directory contains a mix of:

- **System information files:** Contain global kernel or system information.
- **Process directories:** Named with process IDs (PIDs) and contain information about each process.

Example structure:

```
/proc
├── cpuinfo
├── meminfo
├── uptime
├── loadavg
├── version
├── 1/
├── 2/
└── ...
```

## Common Files and Directories

### 1\. /proc/cpuinfo

Provides detailed information about the CPU(s) on the system.

**Example:**

```
cat /proc/cpuinfo
```

Outputs information such as CPU model, vendor, cores, cache size, and flags.

### 2\. /proc/meminfo

Shows memory usage information.

**Example:**

```
cat /proc/meminfo
```

Outputs total memory, free memory, available memory, buffers, and cached memory.

### 3\. /proc/uptime

Displays system uptime and idle time.

**Example:**

```
cat /proc/uptime
```

Output format: `uptime_in_seconds idle_time_in_seconds`

### 4\. /proc/loadavg

Shows system load averages over 1, 5, and 15 minutes.

**Example:**

```
cat /proc/loadavg
```

Output format: `1min 5min 15min running/total last_pid`

### 5\. /proc/version

Displays kernel version and build information.

**Example:**

```
cat /proc/version
```

### 6\. /proc/filesystems

Lists supported filesystems.

**Example:**

```
cat /proc/filesystems
```

### 7\. /proc/partitions

Shows partition information.

**Example:**

```
cat /proc/partitions
```

### 8\. /proc/net/

Contains networking information.

**Example:**

```
cat /proc/net/dev
```

Displays network interface statistics.

### 9\. /proc/<pid>/</pid>

Contains information about a specific process with PID `<PID>`.

- `/proc/<PID>/status` : Human-readable process status.
- `/proc/<PID>/cmdline` : Command line of the process.
- `/proc/<PID>/cwd` : Symbolic link to current working directory.
- `/proc/<PID>/exe` : Symbolic link to executable.
- `/proc/<PID>/fd/` : Directory containing file descriptors.

**Example:**

```
cat /proc/1/status
ls -l /proc/1/fd
```

### 10\. /proc/self/

A symbolic link to the process accessing it. Useful for scripts to reference their own process.

**Example:**

```
cat /proc/self/status
```

### 11\. /proc/sys/

Provides tunable kernel parameters.

**Example:**

```
cat /proc/sys/kernel/pid_max
```

**Modify parameter temporarily:**

```
echo 50000 > /proc/sys/kernel/pid_max
```

**Modify parameter permanently:**  
Edit `/etc/sysctl.conf` and run:

```
sysctl -p
```

## Example Commands Using /proc

- Display CPU cores:

```
grep 'cpu cores' /proc/cpuinfo
```

- Show free memory in MB:

```
awk '/MemFree/ {print $2/1024 " MB"}' /proc/meminfo
```

- Check system uptime in days, hours, minutes:

```
awk '{printf "%d days, %d hours, %d minutes\n", $1/86400, ($1%86400)/3600, ($1%3600)/60}' /proc/uptime
```

- List all running processes by PID and command:

```
for pid in /proc/[0-9]*; do echo -n "$pid: "; cat $pid/cmdline; done
```

- Monitor network interfaces:

```
watch -n 1 cat /proc/net/dev
```

## Summary

The `/proc` filesystem is a powerful tool for monitoring and interacting with Linux kernel and process information. It is extensively used in system diagnostics, monitoring scripts, and tuning kernel parameters.

It provides real-time data without consuming disk space and allows for both reading system information and making temporary adjustments to kernel behavior.

* * *

* * *

# Linux `/sys` Filesystem

## Overview

The `/sys` filesystem, also known as sysfs, is a virtual filesystem in Linux that exposes kernel objects, devices, and drivers as a hierarchical file structure. It is primarily used to view and interact with device and kernel subsystem information. Like `/proc`, files in `/sys` are virtual and exist in memory.

The `/sys` filesystem allows user-space programs and scripts to query system information and configure devices dynamically.

## Structure

The `/sys` filesystem is organized hierarchically:

```
/sys
├── block
├── bus
├── class
├── dev
├── devices
├── firmware
├── kernel
└── module
```

### Key Directories

- **/sys/block/** : Information about block devices (e.g., hard disks, partitions).
    
- **/sys/bus/** : Devices organized by bus type (e.g., PCI, USB).
    
- **/sys/class/** : Devices organized by class (e.g., network, sound).
    
- **/sys/dev/** : Symlinks to device nodes.
    
- **/sys/devices/** : Physical devices and their hierarchy.
    
- **/sys/firmware/** : Firmware information.
    
- **/sys/kernel/** : Kernel parameters and configuration.
    
- **/sys/module/** : Loaded kernel modules.
    

## Common Examples

### 1\. /sys/block/

Shows block devices such as disks and partitions.

**Example:**

```
ls /sys/block
```

View size of a disk:

```
cat /sys/block/sda/size
```

### 2\. /sys/class/

Provides devices grouped by functionality.

**Example:**

```
ls /sys/class/net
```

Shows all network interfaces.

Check MAC address of an interface:

```
cat /sys/class/net/eth0/address
```

### 3\. /sys/devices/

Displays the physical device hierarchy.

**Example:**

```
ls /sys/devices/pci0000:00
```

### 4\. /sys/bus/

Organizes devices by bus type.

**Example:**

```
ls /sys/bus/usb/devices
```

Shows all connected USB devices.

### 5\. /sys/module/

Contains loaded kernel modules.

**Example:**

```
ls /sys/module
```

Check module parameters:

```
cat /sys/module/ipv6/parameters/disable
```

### 6\. /sys/firmware/

Contains firmware and ACPI information.

**Example:**

```
ls /sys/firmware/efi
```

### 7\. /sys/kernel/

Provides kernel parameters and runtime information.

**Example:**

```
cat /sys/kernel/debug/tracing/trace
```

### Reading and Writing Parameters

Many `/sys` files are writable and allow runtime tuning of devices.

**Example: Enable a network interface:**

```
echo 1 > /sys/class/net/eth0/enable
```

**Example: Change CPU scaling governor:**

```
echo performance > /sys/devices/system/cpu/cpu0/cpufreq/scaling_governor
```

## Example Commands Using /sys

- List all USB devices:

```
ls /sys/bus/usb/devices
```

- Check CPU information:

```
cat /sys/devices/system/cpu/cpu0/topology/core_id
```

- Monitor block device statistics:

```
cat /sys/block/sda/stat
```

- Check current kernel version:

```
cat /sys/kernel/osrelease
```

- List all loaded modules:

```
ls /sys/module
```

## Summary

The `/sys` filesystem provides a structured and comprehensive way to interact with the Linux kernel, devices, and drivers. It is essential for:

- Querying hardware and system information.
    
- Dynamically configuring device settings.
    
- Debugging and monitoring kernel and device behavior.
    

Understanding `/sys` is critical for system administrators, developers, and anyone needing detailed device and kernel insights.

* * *

* * *

# Linux `sysctl` Command 

## Overview

The `sysctl` command in Linux is used to view, configure, and modify kernel parameters at runtime. These parameters reside in the `/proc/sys/` directory and control various aspects of the kernel, including networking, process limits, security settings, and more.

## Syntax

```
sysctl [options] [variable[=value]]
```

If no variable is specified, `sysctl` displays all current kernel parameters.

## Common Options

- `-a`, `--all` : Display all available kernel parameters.
    
- `-A`, `--all-sysctl` : Same as -a.
    
- `-w`, `--write` : Set a kernel parameter value.
    
- `-n`, `--values-only` : Print values only, without variable names.
    
- `-p`, `--load` : Load kernel parameters from a file (default `/etc/sysctl.conf`).
    
- `-e`, `--ignore` : Ignore unknown variables when loading from a file.
    
- `-q`, `--quiet` : Suppress output for set commands.
    
- `-b`, `--binary` : Use binary mode when reading/writing (rarely used).
    
- `-h`, `--help` : Display help message.
    
- `-v`, `--version` : Display `sysctl` version.
    

## Viewing Kernel Parameters

- View all parameters:

```
sysctl -a
```

- View specific parameter:

```
sysctl kernel.hostname
```

- Print value only:

```
sysctl -n kernel.hostname
```

## Setting Kernel Parameters

- Set a parameter temporarily:

```
sysctl -w net.ipv4.ip_forward=1
```

- Using equals sign without -w (alternative syntax):

```
sysctl net.ipv4.ip_forward=1
```

Temporary changes persist only until reboot.

## Loading Parameters from a File

- Load default file (`/etc/sysctl.conf`):

```
sysctl -p
```

- Load from a custom file:

```
sysctl -p /etc/sysctl.d/99-custom.conf
```

- Ignore errors for unknown parameters:

```
sysctl -e -p /etc/sysctl.d/99-custom.conf
```

## Examples of Useful sysctl Parameters

### Networking

- Enable IP forwarding:

```
sysctl -w net.ipv4.ip_forward=1
```

- Increase maximum number of open files for networking sockets:

```
sysctl -w net.core.somaxconn=1024
```

- Enable TCP SYN cookies:

```
sysctl -w net.ipv4.tcp_syncookies=1
```

### Security

- Disable IP source routing:

```
sysctl -w net.ipv4.conf.all.accept_source_route=0
```

- Disable ICMP redirects:

```
sysctl -w net.ipv4.conf.all.accept_redirects=0
```

- Enable execshield (if supported):

```
sysctl -w kernel.exec-shield=1
```

### Kernel Limits

- Set maximum number of file handles:

```
sysctl -w fs.file-max=2097152
```

- Set maximum shared memory segment:

```
sysctl -w kernel.shmmax=68719476736
```

## Persisting Changes

- Add parameters to `/etc/sysctl.conf` or a file under `/etc/sysctl.d/`:

```
echo "net.ipv4.ip_forward = 1" >> /etc/sysctl.conf
sysctl -p
```

- Use separate files for modular configuration:

```
echo "fs.file-max = 2097152" > /etc/sysctl.d/99-file-max.conf
sysctl -p /etc/sysctl.d/99-file-max.conf
```

## Querying Parameters by Category

- List networking parameters:

```
sysctl -a | grep net
```

- List process limits:

```
sysctl -a | grep kernel.pid_max
```

## Summary

The `sysctl` command is an essential tool for Linux administrators to:

- Query kernel parameters.
    
- Tune system performance.
    
- Improve security.
    
- Enable or disable kernel features at runtime.
    

Changes made via `sysctl` can be temporary or persisted across reboots using configuration files, allowing flexible control over system behavior.

* * *

* * *

# Linux `uname` Command

## Overview

The `uname` command in Linux is used to display system information, including the kernel name, version, release, and machine hardware details. It is commonly used for system diagnostics, scripting, and gathering environment information.

## Syntax

```
uname [OPTION]...
```

If no options are specified, `uname` prints the kernel name.

## Options

- `-a`, `--all` : Display all available system information.
    
- `-s`, `--kernel-name` : Print the kernel name.
    
- `-n`, `--nodename` : Print the network node hostname.
    
- `-r`, `--kernel-release` : Print the kernel release.
    
- `-v`, `--kernel-version` : Print the kernel version.
    
- `-m`, `--machine` : Print the machine hardware name.
    
- `-p`, `--processor` : Print the processor type (may show unknown).
    
- `-i`, `--hardware-platform` : Print the hardware platform (may show unknown).
    
- `-o`, `--operating-system` : Print the operating system.
    
- `--help` : Display help information.
    
- `--version` : Display `uname` version.
    

## Examples

### Display Kernel Name

```
uname -s
```

Output: Linux

### Display Network Node Hostname

```
uname -n
```

Output: myhostname

### Display Kernel Release

```
uname -r
```

Output: 6.4.0-xyz

### Display Kernel Version

```
uname -v
```

Output: #1 SMP Tue Jan 23 12:34:56 UTC 2026

### Display Machine Hardware Name

```
uname -m
```

Output: x86_64

### Display Processor Type

```
uname -p
```

Output: x86_64

### Display Hardware Platform

```
uname -i
```

Output: x86_64

### Display Operating System

```
uname -o
```

Output: GNU/Linux

### Display All Information

```
uname -a
```

Output example:

```
Linux myhostname 6.4.0-xyz #1 SMP Tue Jan 23 12:34:56 UTC 2026 x86_64 x86_64 GNU/Linux
```

### Using uname in Scripts

- Store kernel version in a variable:

```
kernel_version=$(uname -r)
echo $kernel_version
```

- Check if system is 64-bit:

```
if [ $(uname -m) = "x86_64" ]; then
  echo "System is 64-bit"
else
  echo "System is 32-bit"
fi
```

## Summary

The `uname` command is a simple but powerful tool to gather essential system information. It is commonly used for:

- Identifying the kernel version and release.
    
- Determining machine architecture.
    
- Writing scripts that adapt based on system characteristics.
    
- Gathering OS and hardware information for troubleshooting and system monitoring.
    

* * *

* * *

# Linux `/proc/cpuinfo` and `/proc/meminfo` 

## Overview

Linux provides virtual files `/proc/cpuinfo` and `/proc/meminfo` to access detailed information about the system's CPU(s) and memory. These files are part of the `/proc` filesystem and are commonly used for system diagnostics, monitoring, and scripting.

## /proc/cpuinfo

The `/proc/cpuinfo` file contains information about the CPU(s) installed on the system, including vendor, model, cores, frequency, and features.

### Viewing CPU Information

```
cat /proc/cpuinfo
```

### Sample Output

```
processor       : 0
vendor_id       : GenuineIntel
cpu family      : 6
model           : 158
model name      : Intel(R) Core(TM) i7-8700 CPU @ 3.20GHz
stepping        : 10
microcode       : 0xde
cpu MHz         : 800.000
cache size      : 12288 KB
physical id     : 0
siblings        : 12
core id         : 0
cpu cores       : 6
flags           : fpu vme de pse tsc msr pae mce cx8 apic ...
```

### Key Fields

- `processor` : Logical CPU number.
    
- `vendor_id` : CPU manufacturer.
    
- `cpu family` and `model` : CPU family and model numbers.
    
- `model name` : Full CPU model name.
    
- `cpu MHz` : Current CPU frequency.
    
- `cache size` : L2/L3 cache size in KB.
    
- `physical id` : Physical CPU identifier (useful on multi-socket systems).
    
- `core id` : Core identifier within a physical CPU.
    
- `cpu cores` : Number of cores per physical CPU.
    
- `flags` : CPU features and capabilities.
    

### Examples

- Count the number of CPU cores:

```
grep -c ^processor /proc/cpuinfo
```

- Display model names only:

```
grep 'model name' /proc/cpuinfo | uniq
```

- Show CPU frequency:

```
grep 'cpu MHz' /proc/cpuinfo
```

## /proc/meminfo

The `/proc/meminfo` file provides detailed information about system memory usage, including total, free, available memory, and buffers.

### Viewing Memory Information

```
cat /proc/meminfo
```

### Sample Output

```
MemTotal:       16334272 kB
MemFree:         1234567 kB
MemAvailable:    5678901 kB
Buffers:          234567 kB
Cached:          4567890 kB
SwapCached:            0 kB
Active:          6789012 kB
Inactive:        3456789 kB
SwapTotal:       2097148 kB
SwapFree:        2097148 kB
```

### Key Fields

- `MemTotal` : Total installed memory.
    
- `MemFree` : Unused memory.
    
- `MemAvailable` : Estimated memory available for new applications.
    
- `Buffers` : Memory used by kernel buffers.
    
- `Cached` : Memory used by page cache and slabs.
    
- `SwapTotal` : Total swap space.
    
- `SwapFree` : Free swap space.
    

### Examples

- Show total memory in MB:

```
awk '/MemTotal/ {print $2/1024 " MB"}' /proc/meminfo
```

- Show free memory in MB:

```
awk '/MemFree/ {print $2/1024 " MB"}' /proc/meminfo
```

- Show available memory:

```
awk '/MemAvailable/ {print $2/1024 " MB"}' /proc/meminfo
```

- Monitor memory usage continuously:

```
watch -n 1 cat /proc/meminfo
```

## Summary

- `/proc/cpuinfo` provides detailed information about the CPU architecture, cores, frequency, and features.
    
- `/proc/meminfo` provides detailed memory usage information, including total, free, and available memory.
    
- These files are read-only and provide real-time system data, useful for monitoring, diagnostics, and scripting.
    

* * *

* * *

